{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>EcoCart | Register</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{% static 'accounts/css/auth.css' %}" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>

    <nav class="navbar">
        <div class="brand">EcoCart ðŸŒ¿</div>
        <div class="nav-links">
            {# CORRECTED: Link to products list page for 'Shop Eco' #}
            <a href="{% url 'products:list' %}">Shop Eco</a>
            {# CORRECTED: Added 'accounts:' namespace to blog, about_us, contact, and login links #}
            <a href="{% url 'accounts:blog' %}">Blog</a> 
            <a href="{% url 'accounts:about_us' %}">About Us</a> 
            <a href="{% url 'accounts:contact' %}">Contact</a> 
            <a href="{% url 'accounts:login' %}">Log In</a>
        </div>
    </nav>

    <div class="outer-box">
        <div class="form-box">
            <h1>Join EcoCart Today!</h1>
            <p class="tagline">Create your account and start your sustainable shopping ðŸŒ±</p>

            <form method="POST">
                {% csrf_token %}

                <label for="username">Choose a Username</label>
                <input type="text" name="username" placeholder="Your EcoCart username" required />

                <label for="email">Your Email Address</label>
                <input type="email" name="email" placeholder="email@example.com" required />

                <label for="password">Create Password</label>
                <div class="password-wrap">
                    <input type="password" name="password" id="password" placeholder="Your secret password" required />
                    <i class="fas fa-eye" id="togglePassword1"></i>
                </div>

                <label for="confirm_password">Confirm Password</label>
                <div class="password-wrap">
                    <input type="password" name="confirm_password" id="confirm_password" placeholder="Repeat your password" required />
                    <i class="fas fa-eye" id="togglePassword2"></i>
                </div>

                <button type="submit" class="login-btn">Register Account</button>
                {# CORRECTED: Added 'accounts:' namespace to login link #}
                <a href="{% url 'accounts:login' %}" class="forgot-btn">Already have an account? Log In</a>
            </form>

        </div>
    </div>

    <script>
        const toggle1 = document.getElementById('togglePassword1');
        const passwordField1 = document.getElementById('password');

        if (toggle1 && passwordField1) {
            toggle1.addEventListener('click', function () {
                const type = passwordField1.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordField1.setAttribute('type', type);
                this.classList.toggle('fa-eye-slash');
            });
        }

        const toggle2 = document.getElementById('togglePassword2');
        const passwordField2 = document.getElementById('confirm_password');

        if (toggle2 && passwordField2) {
            toggle2.addEventListener('click', function () {
                const type = passwordField2.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordField2.setAttribute('type', type);
                this.classList.toggle('fa-eye-slash');
            });
        }
    </script>

</body>
</html>
